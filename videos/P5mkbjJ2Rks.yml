# Editing guidelines: https://github.com/watch-devtube/contrib/#how-to-edit-video-metadata

tags:
    - storage
    - c++
    - lisp
    - sap
title: '#RuPostgres: Масштабирование приложений на PostgreSQL'
recordingDate: 1537018469
description: "15 сентября приглашаем всех в офис Авито на встречу, посвященную масштабированию приложений на PostgreSQL. Поговорим об алгоритмах и нюансах реализации транзакционности в языках программирования, построении бизнес-транзакций в сервисах с паттерном database per service, как устроена OZO — асинхронная типобезопасная header-only библиотека-клиент PostgreSQL для C++17, и уровнях изоляции транзакций PostgreSQL. С докладами выступят Стас Кельвич (Postgres Professional), Сергей Хандриков (Яндекс), Константин Евтеев (Авито) и Михаил Тюрин. Регистрируйтесь на встречу и приглашайте коллег.\n\nДоклады\n\nРаспределенные транзакции и путешествия во времени\nСтас Кельвич, Postgres Professional\n\nОсновой обсуждения будет статья «Clock-SI: Snapshot Isolation for Partitioned Data Stores Using Loosely Synchronized Clocks» за авторством Jiaqing Du, Sameh Elnikety и Willy Zwaenepoel. Мы попробуем разобраться с протоколом Clock-SI, также поговорим про существующие алгоритмы и нюансы реализации транзакционности в языках программирования (например, Software Transactional Memory в Clojure) и базах данных (от IBM System-R до Google Spanner); почему уровни изоляции описанные в ANSI SQL слабо отражают реальность и затронем тему транзакционных аномалий.\n\nМасштабирование приложения на PostgreSQL в Авито: tips and tricks ​\nКонстантин Евтеев, Авито\n\nЯ хочу поговорить о решениях от коммьюнити, которые мы реализовали в архитектуре Авито для масштабирования нашего приложения под постоянно растущие нагрузки.\nРасскажу о «двухуровневом умном» кэше для более эффективного использования стендбая.\nПоделюсь историей про опыт Авито в решении одного из вызовов микросервисной архитектуры — реализации бизнес-транзакций с соблюдением консистентности данных между сервисами при использовании архитектурного паттерна Database per Service. ​\n\nЛогическая репликация и уровни изоляции транзакций PostgreSQL\nМихаил Тюрин, бывший главный системный архитектор Авито, активный участник сообщества PostgreSQL\n\nС десятой версии PostgreSQL кроме физической репликации, нам доступна еще и встроенная логическая. Помимо этого, уже много лет существуют и успешно применяются решения по триггерной логической репликации. С другой стороны, относительно недавно, с версии 9.1, мы имеем транзакции с «честным» уровнем Serializable. Эти два существенных обстоятельства (а также дебаты в интернете) побудили автора сделать обзор проблемы применения уровней изоляции при различных существующих методах репликации, в том числе разобрать наличие Serializable на реплике.\n\nOZO — асинхронная типобезопасная header-only библиотека-клиент PostgreSQL для C++17\nСергей Хандриков, Яндекс\n\nБиблиотека построена на базе Boost.Asio, благодаря чему обеспечивает поддержку всех видов асинхронности от колбэков до корутин. Библиотека общается с PostgeSQL с использованием libpq  и бинарного протокола, обеспечивая как асинхронный приём данных, так и асинхронную отправку запроса. OZO поддерживает как Compile-time конструкторы запросов, так и возможность их run-time конфигурации. Все параметры запросов автоматически сериализуются в бинарное представление. Результаты выполнения запросов также автоматически десериализуются как в простые типы, так и в адаптированные с помощью Boost.Fusion и Boost.Hana структуры.\n\nТрансляция\nСсылку на прямую трансляцию митапа ищите в день мероприятия на YouTube канале AvitoTech.\n\nРасписание\n12:00 — 12:30 — Регистрация\n12:30 — 13:15 — Распределенные транзакции и путешествия во времени — Стас Кельвич, Postgres Professional\n13:25 — 14:05 —PG Saga: зависимые изменения данных в нескольких сервисах без двухфазных коммитов и синхронных зависимостей — Константин Евтеев, Авито\n14:05 — 14:35 — Перерыв\n14:35 — 15:20 — Логическая репликация и уровни изоляции транзакций PostgreSQL — Михаил Тюрин\n15:20 — 16:10 — OZO — асинхронная типобезопасная header-only библиотека клиент PostgreSQL для C++17 — Сергей Хандриков, Яндекс\n16:30 — … — Afterparty"
